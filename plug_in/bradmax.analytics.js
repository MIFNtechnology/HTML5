var $hx_exports="undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this;!function(n){"use strict";function t(t,e){var i=Object.create(t);for(var n in e)i[n]=e[n];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}$hx_exports.bradmax=$hx_exports.bradmax||{},$hx_exports.bradmax.analytics=$hx_exports.bradmax.analytics||{};var o=function(){};o.__name__=!0,o.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},o.now=function(){return Date.now()};var e=function(t){this.cookieCache=new _,this.s=window.screen,this.w=window,this.d=document,this.devMode=!1,this.cdc="",this.cookiesEnabled=!1,this.RUNTIME_BAME="",this.RUNTIME_BAML="",this.RUNTIME_CDC="",this.BAME="Um9sYGg=",this.BAML="Um9sYGE=",this.BAMCDC="Um9sYG5pbg==",this.BADATA_SEX="Um9saWx5bFJ+aHU=",this.BADATA_AGE="Um9saWx5bFJsamg=",this.HC="fnlseX4jb39saWBsdSNuYmAiezw=",this.BRADMAX_STATS_HC="b39saWBsdSB+eWx5fiBlbg==",this.HCGC="ZXl5fX43IiJ+eWx5fiNvf2xpYGx1I25iYCJ7PCJqbiNleWBh",this.BRADMAX_CDC_REVIVE="T19MSUBMVVJOSU5SX0hbRFtIUg==",this.BRADMAX_STATS_CDC="b39saWBsdSB+eWx5fiBuaW4=",this.BRADMAX_STATS_COOKIES_ENABLED="b39saWBsdSB+eWx5fiBuYmJmZGh+IGhjbG9haGk=",this.BRADMAX_STATS_TRACK_HASH="b39saWBsdSB+eWx5fiB5f2xuZiBlbH5l",this.BRADMAX_STATS_TRACK_PARAMS="b39saWBsdSB+eWx5fiB5f2xuZiB9bH9sYH4=",this.BRADMAX_STATS_TRACK_PAGE="b39saWBsdSB+eWx5fiB5f2xuZiB9bGpo",this.log=t,this.devMode="file:"==this.d.location.href.substr(0,5),this.RUNTIME_CDC=this.uuid(),this.RUNTIME_BAML=this.uuid(),this.RUNTIME_BAME=this.uuid(),this.cookiesEnabled=this.cookieExist();var e=this.unmxor(this.BAMCDC);this.cdc=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(e),""==this.cdc&&this.cookiesEnabled&&this.crossDomainCookie()};e.__name__=!0,e.prototype={trackPage:function(){var t=!1;return null!=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_PAGE))&&(t=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_PAGE))),t},trackParams:function(){var t=!1;return null!=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_PARAMS))&&(t=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_PARAMS))),t},trackHash:function(){var t=!1;return null!=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_HASH))&&(t=A.field(this.w,this.unmxor(this.BRADMAX_STATS_TRACK_HASH))),t},verifyBaml:function(){var t=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(e=this.unmxor(this.BAML));if(""==t){var e=this.unmxor(this.BAML);if(Object.prototype.hasOwnProperty.call(this.cookieCache.h,e))t=this.cookieCache.h[e];else{var i=this.uuid();t=this.cookieCache.h[e]=i}}e=this.unmxor(this.BAML);0==this.cookieExist()&&0==this.cookiesEnabled||function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}(e,t,730);return t},verifyBame:function(){var t=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(e=this.unmxor(this.BAME));if(""==t){var e=this.unmxor(this.BAME);if(Object.prototype.hasOwnProperty.call(this.cookieCache.h,e))t=this.cookieCache.h[e];else{var i=this.uuid();t=this.cookieCache.h[e]=i}}e=this.unmxor(this.BAME);0==this.cookieExist()&&0==this.cookiesEnabled||function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}(e,t,.020833333333333332);return t},getHC:function(){return null==A.field(this.w,this.unmxor(this.BRADMAX_STATS_HC))?this.unmxor(this.HC):A.field(this.w,this.unmxor(this.BRADMAX_STATS_HC))},crossDomainCookie:function(t){null==t&&(t=!1);var e=null==A.field(this.w,this.unmxor(this.BRADMAX_STATS_CDC))?this.unmxor(this.HCGC):A.field(this.w,this.unmxor(this.BRADMAX_STATS_CDC));if(this.devMode)this.log.request();else{this.addEvent(this.w,"message",k(this,this.handleMessage));var i=document.createElement("iframe");i.setAttribute("src",e+"?parent="+S.string(this.d.location.href)+"&delete="+(null==t?"null":""+t)),i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("scrolling","no"),i.style.display="none",i.style.visibility="hidden",document.head.appendChild(i),setTimeout(k(C=this.log,C.request),4e3)}},handleMessage:function(t){if(null!=t&&null!=t.data&&"string"==typeof t.data&&0==t.data.indexOf(this.unmxor(this.BRADMAX_CDC_REVIVE))){this.cdc=t.data.split(this.unmxor(this.BRADMAX_CDC_REVIVE))[1];var e=this.unmxor(this.BAMCDC),i=this.cdc;if(0!=this.cookieExist()||0!=this.cookiesEnabled){!function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}(e,i,730)}this.log.request()}},cdcOrRuntime:function(){return this.cookieExist()?this.cdc:this.RUNTIME_CDC},cookiesEnabledCheck:function(){if(this.cookieExist())return!0;var t=1==A.field(this.w,this.unmxor(this.BRADMAX_STATS_COOKIES_ENABLED));return 1!=t||this.cookieExist()||this.enableCookies(),t},cookieExist:function(){var t=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(this.unmxor(this.BAMCDC)),e=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(this.unmxor(this.BAME)),i=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(this.unmxor(this.BAML));return""!=t||""!=e||""!=i},enableCookies:function(){this.cookiesEnabled=!0,this.w[this.unmxor(this.BRADMAX_STATS_COOKIES_ENABLED)]=!0;var t=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(i=this.unmxor(this.BAML));""==t&&(t=this.uuid());var e=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}(i=this.unmxor(this.BAME));""==e&&(e=this.uuid());var i=this.unmxor(this.BAML);0==this.cookieExist()&&0==this.cookiesEnabled||function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}(i,t,730);i=this.unmxor(this.BAME);0==this.cookieExist()&&0==this.cookiesEnabled||function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=t+"="+e+";"+a+";path=/"}(i,e,.020833333333333332);this.crossDomainCookie()},disableCookies:function(){this.cookiesEnabled=!1,A.deleteField(this.w,this.unmxor(this.BRADMAX_STATS_COOKIES_ENABLED)),this.crossDomainCookie(!0),function(t){var e=new Date;e.setTime(e.getTime()+1e3);var i="expires="+e.toUTCString();document.cookie=t+"=;"+i+";path=/"}(this.unmxor(this.BAMCDC)),function(t){var e=new Date;e.setTime(e.getTime()+1e3);var i="expires="+e.toUTCString();document.cookie=t+"=;"+i+";path=/"}(this.unmxor(this.BAME)),function(t){var e=new Date;e.setTime(e.getTime()+1e3);var i="expires="+e.toUTCString();document.cookie=t+"=;"+i+";path=/"}(this.unmxor(this.BAML))},getArr:function(e){var i="";try{i=e.join(",")}catch(t){try{var n=""+S.parseInt(""+S.string(e));n==""+S.string(e)&&(i=n);var a=""+parseFloat(""+S.string(e));a==""+S.string(e)&&(i=a)}catch(t){i=""}}return i},uuid:function(t){null==t&&(t="xxxxxxxxxx"),t=t.toLowerCase();for(var e="1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",i="";i.length<t.length;)switch(t.charAt(0)){case"-":i+="-";break;case"x":i+=e.charAt(S.random(e.length));break;default:i+=e.charAt(S.random(e.length))}return i},now:function(){return(new Date).getTime()},nows:function(){return Math.floor(this.now()/1e3)},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+S.string(e),i)},unmxor:function(t,e){null==e&&(e=13);for(var i="",n=0,a=(t=this.b64d(t)).length;n<a;){var s=n++,r=e^o.cca(t,s);i+=String.fromCodePoint(r)}return i},b64d:function(t){return function(t){var e,i,n,a={},s=0,r=0,o="",l=String.fromCharCode,u=t.length;for(e=0;e<64;e++)a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(i=0;i<u;i++)for(s=(s<<6)+a[t.charAt(i)],r+=6;8<=r;)((n=s>>>(r-=8)&255)||i<u-2)&&(o+=l(n));return o}(t)},copy:function(t){return JSON.parse(JSON.stringify(t))},__class__:e};var a=function(){this.cids=new _,this.oldHash=null,this.oldParams=null,this.oldPage=null,this.videoIsPlayingState=new _,this.materialQuality=new _,this.lastReferer=null,this.firstViewRegister=new m,this.hits=[],this.realtimeKeepAlive=new _,this.realtimeEnd=new _,this.w=window,this.d=document,this.buffer=[];var t=this;this.jst=new e(this),window.bams=k(this,this.action),window.bams(),window._ba_action=k(this,this.action),window._ba_action(),window._ba_video_event=k(this,this.videoEvent),window._ba_video_event(),window._ba_track=k(this,this.trackLocation),window._ba_track(),window._ba_untrack=k(this,this.untrackLocation),window._ba_untrack(),window._ba_enable_cookies=k(C=this.jst,C.enableCookies),window._ba_disable_cookies=k(C=this.jst,C.disableCookies),window._ba_use_cookies=k(C=this.jst,C.cookieExist),this.jst.addEvent(this.w,"unload",function(){t.unload(!0)}),this.jst.addEvent(this.w,"beforeunload",function(){t.unload(!0)}),this.jst.addEvent(this.d,"mousedown",function(){t.unload(!1)}),setInterval(k(this,this.keepAlive),6e5),this.locationHandler()};a.__name__=!0,a.getInstance=function(){return null==a.instance&&(a.instance=new a),a.instance},a.prototype={trackLocation:function(t){null!=t&&""!=t&&(this.cids.h[t]=!0,this.action(t,{event:"page.view"}))},untrackLocation:function(t){var e=this.cids;Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t]},locationHandler:function(){var t=this,e=this.jst.d.location.href;new d(100).run=function(){e!=t.jst.d.location.href&&(e=t.jst.d.location.href,t.onLocationChange(e))}},onLocationChange:function(t){var e,i,n,a=this.jst.trackPage(),s=this.jst.trackParams(),r=this.jst.trackHash(),o=t.split("#");n=o[1],i=(o=o[0].split("?"))[1],e=o[0],a&&this.oldPage!=e?this.locationHit():s&&this.oldParams!=i?this.locationHit():r&&this.oldHash!=n&&this.locationHit(),this.oldPage=e,this.oldParams=i,this.oldHash=n},locationHit:function(){for(var t=this.cids.h,e=Object.keys(t),i=e.length,n=0;n<i;){var a=e[n++];null!=a&&""!=a&&this.action(a,{event:"page.view"})}},keepAlive:function(){for(var t=this.realtimeKeepAlive.h,e=t,i=Object.keys(t),n=i.length,a=0;a<n;){var s=e[i[a++]],r=new Image,o="&cc="+this.jst.cdcOrRuntime();r.src=""+s.uri+o}},unload:function(t){var e="sendBeacon"in navigator;if(t&&this.endRealtime(e),e&&t){for(var i=[];0<this.buffer.length;)i.push(this.buffer.pop());for(;0<i.length;){var n=i.pop(),a=this.createRequestURI(n.cid,n.data);a+="&cc="+this.jst.cdcOrRuntime(),navigator.sendBeacon(a,null)}}else this.sendOnBrowserEvent(t)},endRealtime:function(t){if(t){this.realtimeKeepAlive=new _;for(var e=s=this.realtimeEnd.h,i=(r=Object.keys(s)).length,n=0;n<i;){var a=(o=e[r[n++]]).uri;a+=u="&cc="+this.jst.cdcOrRuntime(),navigator.sendBeacon(a,null)}this.realtimeEnd=new _}else{this.realtimeKeepAlive=new _;var s,r;for(e=s=this.realtimeEnd.h,i=(r=Object.keys(s)).length,n=0;n<i;){var o=e[r[n++]],l=new Image,u="&cc="+this.jst.cdcOrRuntime();l.src=""+o.uri+u}this.realtimeEnd=new _;for(var h=this.jst.now();h+200>this.jst.now(););}},sendOnBrowserEvent:function(t){try{if(this.sendBuffer(),this.request(),t)for(var e=this.jst.now();e+200>this.jst.now(););}catch(t){}},sendHit:function(t,e){null==t&&(t="");var i=this.createRequestURI(t,e);this.request(t,i)},S:function(t){return""+S.string(t)},createRequestURI:function(t,e){null==t&&(t="");var i=[],n="";this.jst.cookiesEnabledCheck(),i.push([this.S("lc"),this.jst.verifyBaml()]),i.push([this.S("sc"),this.jst.verifyBame()]),this.jst.cookieExist()||i.push([this.S("dc"),"true"]);var a=this.S("ln"),s=this.jst;i.push([a,""+navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"unknown"]);a=this.S("zo"),s=this.jst;i.push([a,""+(new Date).getTimezoneOffset()]);a=this.S("tz"),s=this.jst;var r=window.Intl&&window.Intl.DateTimeFormat?(new window.Intl.DateTimeFormat).resolvedOptions().timeZone:"unknown";i.push([a,""+r]),i.push([this.S("pt"),""+S.string(this.jst.d.title)]),i.push([this.S("lo"),""+S.string(this.jst.d.location.href)]);a=this.S("la"),s=this.jst;i.push([a,""+navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"unknown"]);a=this.S("cs"),s=this.jst;i.push([a,""+document.characterSet]);var o=this.jst.d.referer;o!=this.lastReferer&&""!=o&&null!=o&&(i.push([this.S("rf"),""+o]),this.lastReferer=o);a=this.S("re"),s=this.jst;i.push([a,S.string(s.s.availWidth)+"x"+S.string(s.s.availHeight)]);a=this.S("vp"),s=this.jst;var l=Math.max(s.d.documentElement.clientWidth,0|s.w.innerWidth),u=Math.max(s.d.documentElement.clientHeight,0|s.w.innerHeight);i.push([a,l+"x"+u]);a=this.S("dp"),s=this.jst,r=null;try{r=function(t){for(var e=1;!t(e)&&e<=1<<24;)e*=2;return 1<<24<e?0:function(t,e,i){for(;1<i-e;){var n=i+e>>1;t(n)?i=n:e=n}return i}(t,e/2,e)}(function(t){return window.matchMedia("(max-resolution: "+t+"dpi)").matches})}catch(f){}i.push([a,""+(0==r?null:r)]);a=this.S("so"),s=this.jst;var h=""+screen.orientation||screen.mozOrientation||screen.msOrientation;i.push([a,-1!=h.indexOf("landscape")?"l":"p"]),i.push([this.S("ev"),""+e.event]),i.push([this.S("mi"),""+e.materialID]),i.push([this.S("ri"),""+e.relatedID]),i.push([this.S("ct"),""+e.currentTime]),i.push([this.S("du"),""+e.duration]),i.push([this.S("vt"),""+e.title]),i.push([this.S("vo"),""+e.volume]),i.push([this.S("ms"),""+e.currentState]),i.push([this.S("pr"),""+e.progress]);var c;a=this.S("vr");try{c=e.videoResolution.width+"x"+e.videoResolution.height}catch(f){c=""}i.push([a,""+c]),i.push([this.S("br"),""+e.bitrate]),i.push([this.S("ss"),""+e.selectedSubtitle]),i.push([this.S("sa"),""+e.selectedAudio]),i.push([this.S("tg"),""+this.jst.getArr(e.tags)]),i.push([this.S("mt"),""+e.mimeType]),i.push([this.S("pv"),""+e.playerVersion]),i.push([this.S("ei"),""+e.externalId]),this.collectionParams(i,e.collection),this.artistParams(i,e.artist);s=this.jst;if(null!=A.field(s.w,s.unmxor(s.BADATA_AGE))){a=this.S("ag"),s=this.jst;i.push([a,""+A.field(s.w,s.unmxor(s.BADATA_AGE))])}s=this.jst;if(null!=A.field(s.w,s.unmxor(s.BADATA_SEX))){a=this.S("sx"),s=this.jst;i.push([a,""+A.field(s.w,s.unmxor(s.BADATA_SEX))])}if(null!=e.engagementRateTimeOffset){for(var d=this.jst.nows(),f=0,m=e.engagementRateTimeOffset.length;f<m;){var g=f++;e.engagementRateTimeOffset[g]=d-e.engagementRateTimeOffset[g]}"er.time"==e.event&&null!=e.engagementRateResolution&&i.push([this.S("er"),""+e.engagementRateResolution]),i.push([this.S("eo"),""+this.jst.getArr(e.engagementRateTimeOffset)]),i.push([this.S("ep"),""+this.jst.getArr(e.engagementRatePosition)])}if(null!=e.qualityTimeOffset&&null!=e.qualityLength){d=this.jst.nows();var _=0,p=e.qualityTimeOffset.length;if(0<e.qualityTimeOffset.length&&(_=this.jst.nows()-e.qualityTimeOffset[p-1]),1==e.qualityLength.length<e.qualityTimeOffset.length){e.qualityLength=[_];var y=this.jst.copy(e);y.qualityTimeOffset=[e.qualityTimeOffset.pop()+d],y.qualityPosition=[e.qualityPosition.pop()],y.qualityLength=null,y.qualityBitrate=[e.qualityBitrate.pop()],this.buffer.push({cid:t,data:y})}for(f=0,m=e.qualityTimeOffset.length;f<m;){g=f++;e.qualityTimeOffset[g]=d-e.qualityTimeOffset[g]}for(;;){var v=e.qualityLength.indexOf(0);if(-1==v)break;e.qualityLength.splice(v,1),e.qualityTimeOffset.splice(v,1),e.qualityPosition.splice(v,1),e.qualityBitrate.splice(v,1)}i.push([this.S("qo"),""+this.jst.getArr(e.qualityTimeOffset)]),i.push([this.S("qp"),""+this.jst.getArr(e.qualityPosition)]),i.push([this.S("ql"),""+this.jst.getArr(e.qualityLength)]),i.push([this.S("qb"),""+this.jst.getArr(e.qualityBitrate)])}if(null!=e.bufferTimeOffset){d=this.jst.nows();if("buffer.start"==e.event){e.event="buffer.end";_=d-e.bufferTimeOffset[e.bufferTimeOffset.length-1];null==e.bufferLength?e.bufferLength=[_]:e.bufferLength.push(_)}for(f=0,m=e.bufferTimeOffset.length;f<m;){g=f++;e.bufferTimeOffset[g]=d-e.bufferTimeOffset[g]}i.push([this.S("bo"),""+this.jst.getArr(e.bufferTimeOffset)]),i.push([this.S("bp"),""+this.jst.getArr(e.bufferPosition)]),i.push([this.S("bl"),""+this.jst.getArr(e.bufferLength)])}var b=0;for(f=0;f<i.length;){g=i[f];++f,""!=g[1]&&"undefined"!=g[1]&&"null"!=g[1]&&"NaN"!=g[1]&&(n+=(0<b?"&":"")+g[0]+"="+encodeURIComponent(g[1])),++b}return("http:"==this.jst.d.location.href.substr(0,5)?"http://":"https://")+this.jst.getHC()+"/"+t+"/?"+n+"&r="+Math.random()},collectionParams:function(t,e,i){if(null==i&&(i=0),null!=e){var n="_"+i;t.push([this.S("cy")+n,""+(null==e.type?"null":S.string(r.toFloat(e.type)))]),t.push([this.S("ci")+n,""+e.collectionId]),t.push([this.S("cr")+n,""+e.relatedId]),t.push([this.S("ce")+n,""+e.title]),t.push([this.S("cg")+n,this.jst.getArr(e.tags)]),t.push([this.S("pp")+n,""+(null==e.positionInParentCollection?"null":S.string(r.toFloat(e.positionInParentCollection)))]),null!=e.parentCollection&&this.collectionParams(t,e.parentCollection,i+1)}},artistParams:function(t,e){if(null!=e)for(var i=0,n="_"+i,a=0;a<e.length;){var s=e[a];++a,t.push([this.S("ay")+n,""+(null==s.type?"null":S.string(r.toFloat(s.type)))]),t.push([this.S("ai")+n,""+s.artistId]),t.push([this.S("ar")+n,""+s.relatedId]),t.push([this.S("at")+n,""+s.title]),t.push([this.S("ta")+n,this.jst.getArr(s.tags)]),n="_"+ ++i}},request:function(t,e){if(null==t&&null==e&&this.flushHits(),""==this.jst.cdc)null!=t&&null!=e&&this.hits.push({cid:t,uri:e}),setTimeout(k(this,this.flushHits),5e3);else if(null!=t&&null!=e){var i=new Image,n="&cc="+this.jst.cdcOrRuntime();i.src=""+e+n}},flushHits:function(){for(;0<this.hits.length;){var t=this.hits.shift(),e=new Image,i="&cc="+this.jst.cdcOrRuntime();e.src=""+t.uri+i}},sendBuffer:function(){for(var t=[];0<this.buffer.length;)t.push(this.buffer.pop());for(;0<t.length;){var e=t.pop();this.sendHit(e.cid,e.data)}},updateEngagement:function(t,e,i){null==t&&(t="");var n=0==e.event.indexOf("er.perc"),a=0==e.event.indexOf("er.time");if((n||a)&&null!=e.engagementRatePosition){for(var s=!1,r=0,o=this.buffer;r<o.length;){var l=o[r];if(++r,l.data.materialID==e.materialID&&l.cid==t&&("er.perc"==l.data.event||"er.time"==l.data.event)){s=!0,i=l.data,l.data.event=e.event,i.engagementRatePosition.push(e.engagementRatePosition[0]),i.engagementRateTimeOffset.push(this.jst.nows());break}}return s||(i=e,this.buffer.push({cid:t,data:i})),{updated:!0,data:i}}return{updated:!1,data:i}},openQualitySegment:function(t,e,i){return null==e.qualityBitrate?e.qualityBitrate=[i]:e.qualityBitrate.push(i),null==e.qualityTimeOffset?e.qualityTimeOffset=[this.jst.nows()]:e.qualityTimeOffset.push(this.jst.nows()),null==e.qualityPosition?e.qualityPosition=[t.currentTime]:e.qualityPosition.push(t.currentTime),e},closeQualitySegment:function(t,e,i){if(null==e.qualityTimeOffset)return e;var n=this.jst.nows()-e.qualityTimeOffset[e.qualityTimeOffset.length-1];return null==e.qualityLength?e.qualityLength=[n]:e.qualityLength.push(n),e},reopenQualitySegment:function(t,e,i){var n=this.jst.copy(t);return e=this.closeQualitySegment(t,e,i),e=this.openQualitySegment(n,e,i)},updateQuality:function(t,e,i){null==t&&(t="");var n="quality.change"==e.event,a="buffer.start"==e.event,s="buffer.end"==e.event,r="play"==e.event,o="pause"==e.event,l="complete"==e.event,u=a||o||l,h=s||r,c=0;Object.prototype.hasOwnProperty.call(this.materialQuality.h,e.materialID)&&(c=this.materialQuality.h[e.materialID]),n&&null!=e.qualityBitrate&&(this.materialQuality.h[e.materialID]=e.qualityBitrate,c=e.qualityBitrate);var d=!1,f=r;Object.prototype.hasOwnProperty.call(this.videoIsPlayingState.h,e.materialID)&&(d=this.videoIsPlayingState.h[e.materialID]),d&&n&&(f=!0),r&&(this.videoIsPlayingState.h[e.materialID]=!0),u&&(this.videoIsPlayingState.h[e.materialID]=!1);for(var m=!1,g=0,_=this.buffer;g<_.length;){var p=_[g];if(++g,p.data.materialID==e.materialID&&p.cid==t&&"quality.change"==p.data.event){(i=p.data).event="quality.change",1==n&&1==f?i=this.reopenQualitySegment(e,i,c):0==d&&1==f?i=this.openQualitySegment(e,i,c):1==d&&0==f&&(i=this.closeQualitySegment(e,i,c)),1==l&&this.sendBuffer(),m=!0;break}}return!m&&r&&((i=e).event="quality.change",i.qualityBitrate=[c],i.qualityTimeOffset=[this.jst.nows()],i.qualityPosition=[e.currentTime],this.buffer.push({cid:t,data:i})),h||u||n||s?{updated:!0,data:i}:{updated:!1,data:i}},updateBuffer:function(t,e,i){null==t&&(t="");var n="buffer.start"==e.event,a="buffer.end"==e.event;if(n||a){for(var s=e.currentTime,r=!1,o=0,l=this.buffer;o<l.length;){var u=l[o];if(++o,u.data.materialID==e.materialID&&u.cid==t&&("buffer.end"==u.data.event||"buffer.start"==u.data.event)){if(r=!0,i=u.data,e.event==u.data.event)break;var h=a,c=n;if(u.data.event=e.event,h&&null==i.bufferPosition)break;if(c&&(null==i.bufferPosition?i.bufferPosition=[s]:i.bufferPosition.push(s),null==i.bufferTimeOffset?i.bufferTimeOffset=[this.jst.nows()]:i.bufferTimeOffset.push(this.jst.nows())),h&&null!=i.bufferPosition&&0<i.bufferPosition.length){var d=i.bufferTimeOffset.length,f=this.jst.nows()-i.bufferTimeOffset[d-1];null==i.bufferLength?i.bufferLength=[f]:i.bufferLength.push(f)}break}}return r||"buffer.start"!=e.event||((i=e).bufferPosition=[s],i.bufferTimeOffset=[this.jst.nows()],this.buffer.push({cid:t,data:i})),{updated:!0,data:i}}return n||a?{updated:!0,data:i}:{updated:!1,data:i}},updateEngagementQualityBuffer:function(t,e){null==t&&(t="");e.event.indexOf("er.perc"),e.event.indexOf("er.time");var i="media.view"==e.event,n=(e.event,e.event,e.event,e.event,e.materialID),a={event:null};if(i)return this.sendBuffer(),this.firstViewRegister.add(e.materialID),!1;null!=e.engagementRatePosition&&"number"==typeof e.engagementRatePosition&&(e.engagementRatePosition=[y.__cast(e.engagementRatePosition,j)]),null!=e.engagementRatePosition&&null==e.engagementRateTimeOffset&&(e.engagementRateTimeOffset=[this.jst.nows()]);var s=this.updateEngagement(t,e,a),r=s.updated;a=s.data;var o=this.updateQuality(t,e,a),l=o.updated;a=o.data;var u=this.updateBuffer(t,e,a),h=u.updated;return a=u.data,!!(r||l||h)&&(this.firstViewRegister.remove(n),null!=a.engagementRatePosition&&10<=a.engagementRatePosition.length?this.sendBuffer():null!=a.qualityBitrate&&10<=a.qualityBitrate.length?this.sendBuffer():null!=a.bufferLength&&10<=a.bufferLength.length&&this.sendBuffer(),!0)},videoEvent:function(t,e){null==t&&(t="")},action:function(t,e){if(null==t&&(t=""),""!=t||null!=e){var i=e;if(i.event=e.event,i.materialID=e.materialID,i.relatedID=e.relatedID,i.externalId=e.externalId,i.currentTime=e.currentTime,i.duration=e.duration,i.title=e.title,i.volume=e.volume,i.currentState=e.currentState,i.progress=e.progress,i.videoResolution=e.videoResolution,i.bitrate=e.bitrate,i.selectedSubtitle=e.selectedSubtitle,i.selectedAudio=e.selectedAudio,i.tags=e.tags,i.pageTags=e.pageTags,i.mimeType=e.mimeType,i.playerVersion=e.playerVersion,i.engagementRateTimeOffset=e.engagementRateTimeOffset,i.engagementRatePosition=e.engagementRatePosition,i.artist=e.artist,i.collection=e.collection,i.positionInCollection=e.positionInCollection,this.jst.cookiesEnabledCheck(),""!=t&&null!=i&&""!=i.event){if("media.user.start"==i.event||"media.user.end"==i.event)this.sendRealtimeHit(t,i);else 0==this.updateEngagementQualityBuffer(t,i)&&this.sendHit(t,i)}else{this.jst;var n="WRONG REQUEST:\nCID: "+t+"\nDATA: "+S.string(i);console.warn(n)}}},sendRealtimeHit:function(t,e){null==t&&(t="");var i=t+"|"+S.string(e.materialID);switch(e.event){case"media.user.end":if(Object.prototype.hasOwnProperty.call(this.realtimeKeepAlive.h,i)){var n=this.realtimeKeepAlive;Object.prototype.hasOwnProperty.call(n.h,i)&&delete n.h[i]}if(Object.prototype.hasOwnProperty.call(this.realtimeEnd.h,i)){n=this.realtimeEnd;Object.prototype.hasOwnProperty.call(n.h,i)&&delete n.h[i],this.sendHit(t,e)}break;case"media.user.start":if(!Object.prototype.hasOwnProperty.call(this.realtimeKeepAlive.h,i)){var a=this.createRequestURI(t,e);this.realtimeKeepAlive.h[i]={uri:a,cid:t}}if(!Object.prototype.hasOwnProperty.call(this.realtimeEnd.h,i)){this.sendHit(t,e),e.event="media.user.end";a=this.createRequestURI(t,e);this.realtimeEnd.h[i]={uri:a,cid:t}}}},__class__:a},Math.__name__=!0;var A=function(){};A.__name__=!0,A.field=function(t,e){try{return t[e]}catch(t){return null}},A.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var S=function(){};S.__name__=!0,S.string=function(t){return y.__string_rec(t,"")},S.parseInt=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var n=e++,a=t.charCodeAt(n);if(a<=8||14<=a&&32!=a&&45!=a){var s=t.charCodeAt(n+1),r=parseInt(t,120==s||88==s?16:10);return isNaN(r)?null:r}}return null},S.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var r={toFloat:function(t){return t<0?4294967296+t:t+0}},s=function(t){if(this.wasPlayed=!1,this.config=t,null!=this.config.clientToken&&""!=this.config.clientToken)if(this.logger=a.getInstance(),this.statsEngagementRatePercResolution=1,this.statsEngagementRateLastSendValue=-1,this.statsEngagementRateLastSendTs=0,!this.config.gdprAgreeRequired||this.config.gdprAgreeForCookie){var e=window._ba_enable_cookies;null!=e&&e()}else{var i=window._ba_disable_cookies;null!=i&&i()}else this.error("[BradmaxAnalytics]: INVALID CLIENT TOKEN ! ")};s.__name__=!0,s.prototype={getVersion:function(){return"1.0.0"},getCurrentMediaMetadata:function(){return null!=this.config?this.config.mediaMetadata:null},getPlayerState:function(){return null},destroy:function(){},error:function(t){this.errorMessage=t,n.console.error(this.errorMessage),this.config.trackRealtimeStats&&this.onRealtimeEnd()},onRealtimeStart:function(){var t=this.prepareActionDataFromPlayer();t.event="media.user.start";var e=t;this.logger.action(this.config.clientToken,e)},onRealtimeEnd:function(){var t=this.prepareActionDataFromPlayer();t.event="media.user.end";var e=t;this.logger.action(this.config.clientToken,e)},onPlaying:function(){1!=this.wasPlayed&&this.sendMediaView(),this.config.trackRealtimeStats&&this.onRealtimeStart()},onPlayingEnded:function(){this.wasPlayed=!1,this.config.trackRealtimeStats&&this.onRealtimeEnd()},onPause:function(){this.config.trackRealtimeStats&&this.onRealtimeEnd()},onCurrentTimeChange:function(){if(this.config.trackEngagementRate&&this.wasPlayed){var t=this.getPlayerState();if(null!=t)if(0<t.duration&&t.duration<1/0){var e=(new Date).getTime(),i=Math.floor(100*t.currentTime/t.duration);t.duration<100/this.statsEngagementRatePercResolution&&(i=Math.floor(i/this.statsEngagementRatePercResolution)*this.statsEngagementRatePercResolution);var n=i%this.statsEngagementRatePercResolution==0,a=i==this.statsEngagementRateLastSendValue,s=1e3<e-this.statsEngagementRateLastSendTs;n&&!a&&(s||100==i)&&(this.sendEngegementRatePercProgress(t,i),this.statsEngagementRateLastSendValue=i,this.statsEngagementRateLastSendTs=e)}else{e=(new Date).getTime();var r=Math.round(t.currentTime);a=r==this.statsEngagementRateLastSendValue;(s=6e4<e-this.statsEngagementRateLastSendTs)&&!a&&(this.sendEngegementRateTimeProgress(t,r),this.statsEngagementRateLastSendValue=r,this.statsEngagementRateLastSendTs=e)}}},prepareActionDataFromPlayer:function(t){var e=this.getCurrentMediaMetadata();null==t&&(t=this.getPlayerState());var i=null!=e?e.materialId:"",n=null!=e?e.relatedId:"",a=null!=e?e.title:"",s=null!=e?e.tags:null,r=null!=t?t.currentTime:null,o=null!=e?e.duration:null;null!=t&&0<t.duration&&(o=t.duration);var l=null;return null!=t&&(l=t.muted?0:t.volume),{materialID:i,relatedID:n,currentTime:r,duration:o,title:a,volume:l,tags:s}},sendEngegementRatePercProgress:function(t,e){var i=this.prepareActionDataFromPlayer(t);i.event="er.perc",i.engagementRatePosition=e;var n=i;this.logger.action(this.config.clientToken,n)},sendEngegementRateTimeProgress:function(t,e){var i=this.prepareActionDataFromPlayer(t);i.event="er.time",i.engagementRatePosition=e;var n=i;this.logger.action(this.config.clientToken,n)},sendMediaView:function(){this.wasPlayed=!0;var t=this.prepareActionDataFromPlayer();t.event="media.view";var e=t;this.logger.action(this.config.clientToken,e)},__class__:s};var i=function(){this.playerState=new u};i.__name__=!0,i.prototype={destroy:function(){this.removeMediaElementListeners(),this.set_mediaElement(null)},onPlaying:function(){null!=this.bradmaxAnalytics&&this.bradmaxAnalytics.onPlaying()},onPause:function(){null!=this.bradmaxAnalytics&&this.bradmaxAnalytics.onPause()},onPlayingEnded:function(){null!=this.bradmaxAnalytics&&this.bradmaxAnalytics.onPlayingEnded()},onCurrentTimeChange:function(){null!=this.bradmaxAnalytics&&this.bradmaxAnalytics.onCurrentTimeChange()},addMediaElementListeners:function(){null!=this.mediaElement&&(this.mediaElement.addEventListener("playing",k(this,this.onPlaying)),this.mediaElement.addEventListener("ended",k(this,this.onPlayingEnded)),this.mediaElement.addEventListener("pause",k(this,this.onPause)),this.bradmaxAnalytics.config.trackEngagementRate&&this.mediaElement.addEventListener("timeupdate",k(this,this.onCurrentTimeChange)))},removeMediaElementListeners:function(){null!=this.mediaElement&&(this.mediaElement.removeEventListener("playing",k(this,this.onPlaying)),this.mediaElement.removeEventListener("ended",k(this,this.onPlayingEnded)),this.bradmaxAnalytics.config.trackEngagementRate&&this.mediaElement.removeEventListener("timeupdate",k(this,this.onCurrentTimeChange)))},set_mediaElement:function(t){return this.mediaElement=t,this.addMediaElementListeners(),this.mediaElement},set_bradmaxAnalytics:function(t){return this.bradmaxAnalytics=t,this.bradmaxAnalytics.getPlayerState=k(this,this.getPlayerState),this.bradmaxAnalytics},getPlayerState:function(){return null!=this.mediaElement&&(this.playerState.currentTime=this.mediaElement.currentTime,this.playerState.volume=this.mediaElement.volume,this.playerState.muted=this.mediaElement.muted,this.playerState.duration=this.mediaElement.duration),this.playerState},__class__:i};var l=$hx_exports.bradmax.analytics.MediaMetadata=function(){};l.__name__=!0,l.prototype={__class__:l};var u=function(){};u.__name__=!0,u.prototype={__class__:u};var h=function(){};h.__name__=!0;var c=function(t,e,i){Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=i?i:this};c.__name__=h.__isInterface__=!0,c.thrown=function(t){return t instanceof c?t.get_native():t instanceof Error?t:new f(t)},c.__super__=Error,c.prototype=t(Error.prototype,{get_native:function(){return this.__nativeException},__class__:c});var d=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};d.__name__=!0,d.prototype={run:function(){},__class__:d};var f=function(t,e,i){c.call(this,String(t),e,i),this.value=t};f.__name__=!0,f.__super__=c,f.prototype=t(c.prototype,{__class__:f});var m=function(){this.length=0};m.__name__=!0,m.prototype={add:function(t){var e=new g(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},remove:function(t){for(var e=null,i=this.h;null!=i;){if(i.item==t)return null==e?this.h=i.next:e.next=i.next,this.q==i&&(this.q=e),this.length--,!0;i=(e=i).next}return!1},__class__:m};var g=function(t,e){this.item=t,this.next=e};g.__name__=!0,g.prototype={__class__:g};var _=function(){this.h=Object.create(null)};_.__name__=!0,_.__interfaces__=[h],_.prototype={__class__:_};var p=function(t){this.current=0,this.array=t};p.__name__=!0,p.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:p};var y=function(){};y.__name__=!0,y.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;if(null!=e)return e;var i=y.__nativeClassName(t);return null!=i?y.__resolveNativeClass(i):null},y.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){var n="[";e+="\t";for(var a=0,s=t.length;a<s;){var r=a++;n+=(0<r?",":"")+y.__string_rec(t[r],e)}return n+="]"}var o;try{o=t.toString}catch(a){return"???"}if(null!=o&&o!=Object.toString&&"function"==typeof o){var l=t.toString();if("[object Object]"!=l)return l}n="{\n";e+="\t";var u=null!=t.hasOwnProperty,h=null;for(h in t)u&&!t.hasOwnProperty(h)||"prototype"!=h&&"__class__"!=h&&"__super__"!=h&&"__interfaces__"!=h&&"__properties__"!=h&&(2!=n.length&&(n+=", \n"),n+=e+h+" : "+y.__string_rec(t[h],e));return n+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},y.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var n=0,a=i.length;n<a;){var s=i[n++];if(s==e||y.__interfLoop(s,e))return!0}return y.__interfLoop(t.__super__,e)},y.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case D:return"boolean"==typeof t;case B:return null!=t;case j:return"number"==typeof t;case O:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(y.__downcastCheck(t,e))return!0}else if("object"==typeof e&&y.__isNativeObj(e)&&t instanceof e)return!0;return e==M&&null!=t.__name__||e==I&&null!=t.__ename__}},y.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&y.__interfLoop(y.getClass(t),e)},y.__cast=function(t,e){if(null==t||y.__instanceof(t,e))return t;throw c.thrown("Cannot cast "+S.string(t)+" to "+S.string(e))},y.__nativeClassName=function(t){var e=y.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},y.__isNativeObj=function(t){return null!=y.__nativeClassName(t)},y.__resolveNativeClass=function(t){return n[t]};var v=function(){};v.__name__=!0,v.main=function(){v.exist("shaka")||(v.exist("videojs")?videojs.registerPlugin("bradmaxAnalytics",R):v.exist("jwplayer")?(new jwplayer).registerPlugin("bradmax.analytics","8.0",x.init):v.exist("mw")&&new mw.kalturaPluginWrapper(w.boot))},v.exist=function(t){var e=window;return Object.prototype.hasOwnProperty.call(e,t)};var b=$hx_exports.bradmax.analytics.Html5=function(t,e){i.call(this),null!=t?null!=e?(this.set_bradmaxAnalytics(new s(e)),this.set_mediaElement(t)):n.console.error("[Html5Plugin].error: no configuration available"):n.console.error("[Html5Plugin].error: no video element instance available")};b.__name__=!0,b.__super__=i,b.prototype=t(i.prototype,{destroy:function(){null!=this.bradmaxAnalytics&&(this.bradmaxAnalytics.destroy(),this.set_bradmaxAnalytics(null)),i.prototype.destroy.call(this)},__class__:b});var x=function(t,e,i){null!=t?null!=e?null!=i?(this.playerState=new u,this.player=t,this.bradmaxAnalytics=new s(e),this.bradmaxAnalytics.getPlayerState=k(this,this.getPlayerState),this.player.on("play",k(C=this.bradmaxAnalytics,C.onPlaying)),this.player.on("complete",k(C=this.bradmaxAnalytics,C.onPlayingEnded)),this.player.on("time",k(C=this.bradmaxAnalytics,C.onCurrentTimeChange)),this.player.on("pause",k(C=this.bradmaxAnalytics,C.onPause))):n.console.error("[JwPlayerPlugin].error: no div element available"):n.console.error("[JwPlayerPlugin].error: no configuration available"):n.console.error("[JwPlayerPlugin].error: no jwplayer instance available")};x.__name__=!0,x.init=function(t,e,i){new x(t,e,i)},x.prototype={destroy:function(){null!=this.bradmaxAnalytics&&(null!=this.player&&this.player.off("firstFrame",k(C=this.bradmaxAnalytics,C.onPlaying)),this.bradmaxAnalytics.destroy()),this.bradmaxAnalytics=null},getPlayerState:function(){if(null!=this.player){this.playerState.currentTime=this.player.getPosition();var t=this.player.getVolume();this.playerState.volume=null!=t?t/100:null,this.playerState.muted=this.player.getMute(),this.playerState.duration=this.player.getDuration()}return this.playerState},__class__:x};var w=function(t,e){this.playerState=new u,this.bradmaxAnalytics=new s(t),this.bradmaxAnalytics.getCurrentMediaMetadata=k(this,this.getCurrentMediaMetadata),this.bradmaxAnalytics.getPlayerState=k(this,this.getPlayerState),(this.player=e).addJsListener("playerPlayed",k(C=this.bradmaxAnalytics,C.onPlaying)),e.addJsListener("playbackComplete",k(C=this.bradmaxAnalytics,C.onPlayingEnded)),e.addJsListener("playerUpdatePlayhead",k(C=this.bradmaxAnalytics,C.onCurrentTimeChange)),e.addJsListener("playerPaused",k(C=this.bradmaxAnalytics,C.onPause))};w.__name__=!0,w.boot=function(){mw.PluginManager.add("bradmaxAnalytics",mw.KBasePlugin.extend({setup:function(){var t={clientToken:this.getConfig("clientToken"),trackEngagementRate:this.getConfig("trackEngagementRate"),trackRealtimeStats:this.getConfig("trackRealtimeStats"),gdprAgreeRequired:this.getConfig("gdprAgreeRequired"),gdprAgreeForCookie:this.getConfig("gdprAgreeForCookie")},e=this.getPlayer();new w(t,e)},isSafeEnviornment:w.isSafeEnvironment}))},w.isSafeEnvironment=function(){return!0},w.prototype={destroy:function(){null!=this.bradmaxAnalytics&&(null!=this.player&&(this.player.removeJsListener("playerPlayed",k(C=this.bradmaxAnalytics,C.onPlaying)),this.player.removeJsListener("playbackComplete",k(C=this.bradmaxAnalytics,C.onPlayingEnded)),this.player.removeJsListener("playerUpdatePlayhead",k(C=this.bradmaxAnalytics,C.onCurrentTimeChange))),this.bradmaxAnalytics.destroy()),this.bradmaxAnalytics=null},getCurrentMediaMetadata:function(){var t=this.player.kalturaPlayerMetaData,e=new l;return e.materialId=t.id,e.relatedId=t.referenceId,e.duration=t.duration,e.title=t.name,e.tags=t.tags,e},getPlayerState:function(){return null!=this.player&&(this.playerState.currentTime=this.player.evaluate("{video.player.currentTime}"),this.playerState.volume=this.player.evaluate("{video.volume}"),this.playerState.muted=this.playerState.volume<=0,this.playerState.duration=this.player.evaluate("{duration}")),this.playerState},__class__:w};var T=function(){};T.__name__=!0,T.prototype={addJsListener:function(t,e){},removeJsListener:function(t,e){},evaluate:function(t){return null},__class__:T};var E=$hx_exports.bradmax.analytics.Shaka=function(t,e){i.call(this),null!=t?null!=e?(this.player=t,this.set_bradmaxAnalytics(new s(e)),this.set_mediaElement(this.player.getMediaElement())):n.console.error("[ShakaPlugin].error: no configuration available"):n.console.error("[ShakaPlugin].error: no shaka player instance available")};E.__name__=!0,E.__super__=i,E.prototype=t(i.prototype,{destroy:function(){null!=this.bradmaxAnalytics&&(this.bradmaxAnalytics.destroy(),this.set_bradmaxAnalytics(null)),this.player=null,i.prototype.destroy.call(this)},__class__:E});var P=function(){};P.__name__=!0,P.prototype={on:function(t,e,i){},off:function(t,e,i){},currentTime:function(){return null},duration:function(){return-1},volume:function(){return-1},__class__:P};var C,R=function(t){var e=this;null!=t?(this.playerState=new u,this.bradmaxAnalytics=new s(t),this.bradmaxAnalytics.getPlayerState=function(){return e.playerState.currentTime=e.currentTime(),e.playerState.volume=e.volume(),e.playerState.muted=e.playerState.volume<=0,e.playerState.duration=e.duration(),e.playerState},this.on("playing",k(C=this.bradmaxAnalytics,C.onPlaying)),this.on("ended",k(C=this.bradmaxAnalytics,C.onPlayingEnded)),this.on("timeupdate",k(C=this.bradmaxAnalytics,C.onCurrentTimeChange)),this.on("pause",k(C=this.bradmaxAnalytics,C.onPause))):n.console.error("[VideoJsPlugin].error: no configuration available")};function k(t,e){return null==e?null:(null==e.__id__&&(e.__id__=n.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&(i=e.bind(t),t.hx__closures__[e.__id__]=i),i);var i}R.__name__=!0,R.__super__=P,R.prototype=t(P.prototype,{destroy:function(){null!=this.bradmaxAnalytics&&(this.off("playing",k(C=this.bradmaxAnalytics,C.onPlaying)),this.off("ended",k(C=this.bradmaxAnalytics,C.onPlayingEnded)),this.off("timeupdate",k(C=this.bradmaxAnalytics,C.onCurrentTimeChange)),this.bradmaxAnalytics.destroy()),this.bradmaxAnalytics=null},__class__:R}),n.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(o.now=performance.now.bind(performance)),null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__="Date";var O={},B={},j=Number,D=Boolean,M={},I={};y.__toStr={}.toString,v.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var bradmax=$hx_exports.bradmax;
